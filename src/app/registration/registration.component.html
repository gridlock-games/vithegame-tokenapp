<button (click)="back()" class="btn btn-transparent text-white position-absolute top-0 start-0" type="button">
    <h4>‚Üê</h4>
</button>

<div class="container text-center h-100 registration">
    <div class="d-flex justify-content-center align-items-center h-100">
        <div *ngIf="isSuccessAlert" class="alert alert-success position-absolute top-0" role="alert">
            Registration success! Please check email for account verification.
        </div>
        <div class="col px-5">
            <label class="form-label mt-3">Email Address</label>
            <input [(ngModel)]="email" placeholder="Email@email.com" class="form-control bg-dark text-white" type="text"
                (change)="validateEmail()" aria-label="default input"
                [ngClass]="(isEmptyEmail || !isEmailValid) ? 'border-danger' : 'border-dark'">
            <div *ngIf="isEmptyEmail" class="form-text text-danger">
                Email address is required.
            </div>
            <div *ngIf="!isEmailValid" class="form-text text-danger">
                Email address is invalid.
            </div>

            <label class="form-label mt-3">Username</label>
            <input [(ngModel)]="username" placeholder="Username" class="form-control bg-dark text-white" type="text"
                (change)="validateUsername()" (keydown.space)="$event.preventDefault()"
                [ngClass]="isEmptyUsername ? 'border-danger' : 'border-dark'" aria-label="default input">
            <div *ngIf="isEmptyUsername" class="form-text text-danger">
                Username is required.
            </div>

            <label for="inputPassword5" class="form-label mt-5">Password</label>
            <input [(ngModel)]="password" placeholder="Password" type="password" id="inputPassword5"
                (change)="validateConfirmPassword()" class="form-control bg-dark text-white"
                [ngClass]="(isPwordLengthInvalid || isIncorrectPassword) ? 'border-danger' : 'border-dark'">
            <input [(ngModel)]="confirmPassword" placeholder="Confirm Password" type="password" id="inputPassword4"
                (change)="validateConfirmPassword()" class="form-control mt-3 bg-dark text-white"
                [ngClass]="(isPwordLengthInvalid || isIncorrectPassword) ? 'border-danger' : 'border-dark'">
            <div *ngIf="isIncorrectPassword" id="passwordHelpBlock" class="form-text text-danger">
                Passwords do not match. Please try again.
            </div>
            <div *ngIf="isPwordLengthInvalid" id="passwordHelpBlock" class="form-text text-danger">
                Password do not match the minimum requirement of 7 characters.
            </div>

            <div class="mt-5">
                <p><small>Choose one or both if you're joining the tournament, or leave it blank.</small></p>
                <div class="row">
                    <div class="col">
                        <input type="checkbox" (change)="onCheckboxChange($event)" [value]="'1v1'" [(ngModel)]="is1v1">
                        1v1
                    </div>
                </div>
                <div class="row mt-3">
                    <div class="col">
                        <input type="checkbox" (change)="onCheckboxChange($event)" [value]="'5v5'" [(ngModel)]="is5v5">
                        5v5
                    </div>
                </div>
            </div>

            <button *ngIf="!disableRegBtn" type="button" class="btn btn-default mt-5 w-100 p-2"
                (click)="registrationBtnClick()" [disabled]="disableRegBtn">Register</button>

            <button *ngIf="disableRegBtn" type="button" class="mt-5 btn btn-default w-100 p-2" disabled>
                <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
                Loading...
            </button>

            <div *ngIf="isError && !isAcctExisting" class="form-text text-danger">
                There is an error in registering your account. Please try again later.
            </div>

            <div *ngIf="isError && isAcctExisting" class="form-text text-danger">
                Account already exists. Please use another email.
            </div>

        </div>

        <div class="position-absolute bottom-0 text-secondary w-100">
            Vi essence app is still in Beta. For any unquiries, send email to support@gridlock-games.com
        </div>
    </div>
</div>